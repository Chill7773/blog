[TOC]

# 构建工具升级指南

最近发现公司中许多项目都使用的是`webpack3` 打包，然后由于项目的代码量不断变大，打包器版本过于老旧，会导致：

- 启动项目和构建项目的耗时非常长
- 代码热更新慢，改了几行代码，需要等一段不短的时间才能看到效果

保守估计每天浪费在项目启动、代码热更新上至少 10~60 分钟，甚至更长。
所以更新或升级构建工具显得尤为重要。

## 升级前准备

首先移除`devDependencies`中与构建相关的依赖，即仅仅在构建打包、启动开发环境所用到的依赖。

## 升级到 webpack5

## 升级到 vite2

## 如何在 webpack 和 vite 之间选择

首先不可否认 webpack 功能强大，生态完整；但是 vite 也在快速发展，且效率极快！！

如果你仅仅要打包你的项目，没有其他打包优化方面的需求，vite 肯定是优先选择。

但是如果你有一些打包优化方面的需求，比如预渲染、预加载之类，或者有特定场景需求，webpack5 会更好，不排除 vite 也存在相关解决方案，不过可能要花些时间寻找或表现效果不如成熟的 webpack。
